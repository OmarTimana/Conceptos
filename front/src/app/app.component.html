<div class="contenedor">

    <mat-toolbar class="nav" color="primary">

      <a class="linkInicio" routerLink="/home" routerLinkActive="active">Inicio</a>


        <ng-container *ngIf="authService.loggedIn(); else noLog">
          <div class="lgD">

            <ng-container  *ngIf="intmService.esUser() || intmService.esAdmin()">
              <li>
                <a routerLink="/main" routerLinkActive="active">Principal</a>
              </li>
              <li>
                <a routerLink="/conceptos" routerLinkActive="active">Gestionar Conceptos</a>
              </li> 
            </ng-container>

            <ng-container *ngIf="intmService.esAdmin()">
              <li>
                <a routerLink="/registeruser" routerLinkActive="active">Crear Usuarios</a>
              </li>
            </ng-container>            

          </div>

          <div class="smD">

            <button mat-icon-button [matMenuTriggerFor]="menu">
              <mat-icon>more_vert</mat-icon>
            </button>
            <mat-menu #menu="matMenu">
              <button mat-menu-item>
                <mat-icon>tab</mat-icon>
                <a class="linkSm" routerLink="/main" routerLinkActive="active">Principal</a>
              </button>
              <mat-divider></mat-divider>

              <button mat-menu-item >
                <mat-icon>description</mat-icon>
                <a class="linkSm" routerLink="/conceptos" routerLinkActive="active">Gestionar Conceptos</a>
              </button>
              <mat-divider></mat-divider>

              <ng-container *ngIf="intmService.esAdmin(); else salto">
                <button mat-menu-item>
                  <mat-icon>person_add</mat-icon>
                  <a class="linkSm" routerLink="/registeruser" routerLinkActive="active">Crear Usuarios</a>
                </button>
                <mat-divider></mat-divider>
                <br>
                <mat-divider></mat-divider>
              </ng-container>   

              <ng-template #salto>
                <br>
                <mat-divider></mat-divider>
              </ng-template>

              <mat-divider></mat-divider>
              <button mat-menu-item>
                <mat-icon color="warn">logout</mat-icon>
                <a mat-button color="warn" style="cursor:pointer" (click)="authService.logOut()">Cerrar sesión</a>
              </button>

            </mat-menu>

          </div>

          <button class="logOut" mat-raised-button color="warn">
            <mat-icon>logout</mat-icon>
            <a style="cursor:pointer" (click)="authService.logOut()">Cerrar sesión</a>
          </button>
          
        </ng-container>

        <ng-template #noLog>
          <div class="lg">
            <a class="linkSingUp" routerLink="/signup" routerLinkActive="active">Registrarse</a>
  
            <a class="linkSingIn" routerLink="/signin" routerLinkActive="active">Ingresar</a>
          </div>
  
          <div class="sm">
            <button mat-icon-button [matMenuTriggerFor]="menu">
              <mat-icon>more_vert</mat-icon>
            </button>

            <mat-menu #menu="matMenu">

              <button mat-menu-item>
                <mat-icon>person</mat-icon>
                <a class="linkSm" routerLink="/signup" routerLinkActive="active">Registrarse</a>
              </button>

              <mat-divider></mat-divider>

              <button mat-menu-item>
                <mat-icon color="primary">login</mat-icon>
                
                <a mat-button color="primary" routerLink="/signin" routerLinkActive="active">Ingresar</a>
              </button>
              
            </mat-menu>
          </div>

        </ng-template>
        
        
    </mat-toolbar>

    <router-outlet></router-outlet>

 </div>

 

